IF
  Clicked([ANYONE])
  Range(LastTrigger,10)
  Global("PedCDone","AR3019",0)
  !PartyHasItem("PLOT05C")  // ~Spirit Key~
THEN
  RESPONSE #100
    DisplayString(Myself,70452)  // ~There is a large keyhole in the pedestal next to the seal.~
END

IF
  Clicked([ANYONE])
  Range(LastTrigger,10)
  Global("PedCDone","AR3019",2)
THEN
  RESPONSE #100
    DisplayString(Myself,70896)  // ~There is nothing more that you can do with this.~
END

IF
  PartyHasItem("PLOT05C")  // ~Spirit Key~
  Clicked([ANYONE])
  Range(LastTrigger,10)
  Global("PedCDone","AR3019",0)
THEN
  RESPONSE #100
    SetGlobal("PedCDone","AR3019",1)
    DisplayString(LastTrigger,72713)  // ~You place the key into the lock. Click again to turn the key and unleash whatever guardians await you.~
    TakePartyItem("PLOT05c")
    AddXP2DA("PLOT5B")
END

IF
  Clicked([ANYONE])
  Range(LastTrigger,10)
  Global("PedCDone","AR3019",1)
  GlobalLT("SealOpen","AR3019",2)
THEN
  RESPONSE #100
    ClearAllActions()
    StartCutSceneMode()
    MoveViewPoint([2277.1866],VERY_FAST)
    IncrementGlobal("SealOpen","AR3019",1)
    SetGlobal("PedCDone","AR3019",2)
    DisplayString(Myself,70453)  // ~The key turns easily. This lock is now open.~
    Wait(2)
    CreateVisualEffect("spraised",[2463.2061])
    CreateCreature("GORLIC01",[2463.2061],4)  // ~Azamantes~
    Wait(2)
    CreateVisualEffect("spraised",[2168.2067])
    CreateVisualEffect("spraised",[2395.1598])
    CreateVisualEffect("spraised",[2564.1846])
    CreateCreature("GORSKU01",[2168.2067],4)  // ~Flaming Skull~
    CreateCreature("GORSKU01",[2395.1598],4)  // ~Flaming Skull~
    CreateCreature("GORSKU01",[2564.1846],4)  // ~Flaming Skull~
    EndCutSceneMode()
END

IF
  Clicked([ANYONE])
  Range(LastTrigger,10)
  Global("PedCDone","AR3019",1)
  Global("SealOpen","AR3019",2)
THEN
  RESPONSE #100
    ClearAllActions()
    StartCutSceneMode()
    DisplayString(Player1,72711)  // ~The final guardians of the seal are awakened and you know that you must defeat them with ease if you are ever to face the Imprisoned One and survive.~
    MoveViewPoint([2277.1866],VERY_FAST)
    IncrementGlobal("SealOpen","AR3019",1)
    SetGlobal("PedCDone","AR3019",2)
    DisplayString(Myself,63799)  // ~The final lock has been opened. The wheel can now be turned to open the Seal.~
    Wait(2)
    CreateVisualEffect("spraised",[2463.2061])
    CreateCreature("GORLIC01",[2463.2061],4)  // ~Azamantes~
    Wait(2)
    CreateVisualEffect("spraised",[2168.2067])
    CreateVisualEffect("spraised",[2395.1598])
    CreateVisualEffect("spraised",[2564.1846])
    CreateCreature("GORSKU01",[2168.2067],4)  // ~Flaming Skull~
    CreateCreature("GORSKU01",[2395.1598],4)  // ~Flaming Skull~
    CreateCreature("GORSKU01",[2564.1846],4)  // ~Flaming Skull~
    EndCutSceneMode()
END

IF
  Clicked([ANYONE])
  !Range(LastTrigger,10)
THEN
  RESPONSE #100
    DisplayString(Myself,14702)  // ~You are too far away to use that.~
END

