IF
  Killed([ANYONE])
THEN
  RESPONSE #100
    SetInterrupt(FALSE)
    ReallyForceSpell(LastTrigger,MAKE_SHADOW)
    SetInterrupt(TRUE)
END

IF
  Global("DevilShades","LOCALS",0)
THEN
  RESPONSE #100
    ForceSpellPoint([1061.980],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1191.898],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1308.814],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1201.1072],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1335.992],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1457.906],SUMMON_DEVIL_SHADE)
    SetGlobal("DevilShades","LOCALS",1)
END

IF
  Delay(12)
  See(NearestEnemyOf(Myself))
THEN
  RESPONSE #100
    ReallyForceSpell(NearestEnemyOf(Myself),SHADOW_DRAIN)
END

IF
  Global("pwstun","LOCALS",0)
  See(NearestEnemyOf(Myself))
THEN
  RESPONSE #100
    SetGlobal("pwstun","LOCALS",1)
    SpellNoDec(NearestEnemyOf(Myself),WIZARD_SYMBOL_STUN)
END

IF
  Global("spellstrike","LOCALS",0)
  OR(2)
    See(NearestEnemyOfType([0.0.0.MAGE_ALL]))
    See(NearestEnemyOfType([0.0.0.CLERIC_ALL]))
THEN
  RESPONSE #100
    ReallyForceSpell(LastSeenBy(Myself),WIZARD_SPELL_STRIKE)
    SetGlobal("spellstrike","LOCALS",1)
END

IF
  Global("silence","LOCALS",0)
  OR(2)
    See(NearestEnemyOfType([0.0.0.MAGE_ALL]))
    See(NearestEnemyOfType([0.0.0.CLERIC_ALL]))
  !Range(LastSeenBy(Myself),15)
THEN
  RESPONSE #100
    SetGlobal("silence","LOCALS",1)
    SpellNoDec(LastSeenBy(Myself),CLERIC_SILENCE_15_FOOT)
END

IF
  See(NearestEnemyOf(Myself))
  CheckStatLT(Myself,1,STONESKINS)
  HitBy([ANYONE],CRUSHING)
  HPPercentLT(Myself,25)
  !Dead("yself)")  // yself)
  Global("Prep2","LOCALS",0)
THEN
  RESPONSE #100
    ApplySpell(Myself,CLERIC_GLOBE_OF_BLADES)
    ForceSpellPoint([1061.980],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1191.898],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1308.814],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1201.1072],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1335.992],SUMMON_DEVIL_SHADE)
    ForceSpellPoint([1457.906],SUMMON_DEVIL_SHADE)
    SetGlobal("Prep2","LOCALS",1)
END

IF
  See(NearestEnemyOf(Myself))
  Global("finger","LOCALS",0)
THEN
  RESPONSE #100
    SpellNoDec(NearestEnemyOf(Myself),WIZARD_BIGBYS_CRUSHING_HAND)
    SetGlobal("finger","LOCALS",1)
END

IF
  See(NearestEnemyOf(Myself))
  !HasBounceEffects(LastSeenBy(Myself))
  Global("finger","LOCALS",1)
THEN
  RESPONSE #100
    SpellNoDec(NearestEnemyOf(Myself),WIZARD_FINGER_OF_DEATH)
    SetGlobal("finger","LOCALS",2)
END

