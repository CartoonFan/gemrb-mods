IF
  Global("ALLOW_ATTACK","LOCALS",0)
  Or(2)
    !Global("GEM_DEAD","GLOBAL",0)
    !HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
THEN
  RESPONSE #100
    SetGlobal("ALLOW_ATTACK","LOCALS",1)
    Continue()
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("ICASARACHT")  // ICASARACHT
  HPPercentLT("ICASARACHT",75)  // ICASARACHT
THEN
  RESPONSE #100
    Spell("ICASARACHT",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("GEM")  // GEM
  HPPercentLT("GEM",75)  // GEM
THEN
  RESPONSE #100
    Spell("GEM",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("KING")  // KING
  HPPercentLT("KING",75)  // KING
THEN
  RESPONSE #100
    Spell("KING",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("YSELF)")  // YSELF)
  HPPercentLT(Myself,75)
THEN
  RESPONSE #100
    Spell(Myself,CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("UNDERPRIEST_1")  // UNDERPRIEST_1
  HPPercentLT("UNDERPRIEST_1",75)  // UNDERPRIEST_1
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_1",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("UNDERPRIEST_2")  // UNDERPRIEST_2
  HPPercentLT("UNDERPRIEST_2",75)  // UNDERPRIEST_2
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_2",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("GUARD_1")  // GUARD_1
  HPPercentLT("GUARD_1",75)  // GUARD_1
THEN
  RESPONSE #100
    Spell("GUARD_1",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("GUARD_2")  // GUARD_2
  HPPercentLT("GUARD_2",75)  // GUARD_2
THEN
  RESPONSE #100
    Spell("GUARD_2",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("GUARD_3")  // GUARD_3
  HPPercentLT("GUARD_3",75)  // GUARD_3
THEN
  RESPONSE #100
    Spell("GUARD_3",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_CRITICAL_WOUNDS)
  !Dead("GUARD_4")  // GUARD_4
  HPPercentLT("GUARD_4",75)  // GUARD_4
THEN
  RESPONSE #100
    Spell("GUARD_4",CLERIC_CURE_CRITICAL_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("ICASARACHT")  // ICASARACHT
  HPPercentLT("ICASARACHT",75)  // ICASARACHT
THEN
  RESPONSE #100
    Spell("ICASARACHT",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("GEM")  // GEM
  HPPercentLT("GEM",75)  // GEM
THEN
  RESPONSE #100
    Spell("GEM",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("KING")  // KING
  HPPercentLT("KING",75)  // KING
THEN
  RESPONSE #100
    Spell("KING",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("YSELF)")  // YSELF)
  HPPercentLT(Myself,75)
THEN
  RESPONSE #100
    Spell(Myself,CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("UNDERPRIEST_1")  // UNDERPRIEST_1
  HPPercentLT("UNDERPRIEST_1",75)  // UNDERPRIEST_1
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_1",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("UNDERPRIEST_2")  // UNDERPRIEST_2
  HPPercentLT("UNDERPRIEST_2",75)  // UNDERPRIEST_2
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_2",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("GUARD_1")  // GUARD_1
  HPPercentLT("GUARD_1",75)  // GUARD_1
THEN
  RESPONSE #100
    Spell("GUARD_1",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("GUARD_2")  // GUARD_2
  HPPercentLT("GUARD_2",75)  // GUARD_2
THEN
  RESPONSE #100
    Spell("GUARD_2",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("GUARD_3")  // GUARD_3
  HPPercentLT("GUARD_3",75)  // GUARD_3
THEN
  RESPONSE #100
    Spell("GUARD_3",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_SERIOUS_WOUNDS)
  !Dead("GUARD_4")  // GUARD_4
  HPPercentLT("GUARD_4",75)  // GUARD_4
THEN
  RESPONSE #100
    Spell("GUARD_4",CLERIC_CURE_SERIOUS_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("ICASARACHT")  // ICASARACHT
  HPPercentLT("ICASARACHT",75)  // ICASARACHT
THEN
  RESPONSE #100
    Spell("ICASARACHT",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("GEM")  // GEM
  HPPercentLT("GEM",75)  // GEM
THEN
  RESPONSE #100
    Spell("GEM",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("KING")  // KING
  HPPercentLT("KING",75)  // KING
THEN
  RESPONSE #100
    Spell("KING",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("YSELF)")  // YSELF)
  HPPercentLT(Myself,75)
THEN
  RESPONSE #100
    Spell(Myself,CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("UNDERPRIEST_1")  // UNDERPRIEST_1
  HPPercentLT("UNDERPRIEST_1",75)  // UNDERPRIEST_1
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_1",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("UNDERPRIEST_2")  // UNDERPRIEST_2
  HPPercentLT("UNDERPRIEST_2",75)  // UNDERPRIEST_2
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_2",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("GUARD_1")  // GUARD_1
  HPPercentLT("GUARD_1",75)  // GUARD_1
THEN
  RESPONSE #100
    Spell("GUARD_1",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("GUARD_2")  // GUARD_2
  HPPercentLT("GUARD_2",75)  // GUARD_2
THEN
  RESPONSE #100
    Spell("GUARD_2",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("GUARD_3")  // GUARD_3
  HPPercentLT("GUARD_3",75)  // GUARD_3
THEN
  RESPONSE #100
    Spell("GUARD_3",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_MODERATE_WOUNDS)
  !Dead("GUARD_4")  // GUARD_4
  HPPercentLT("GUARD_4",75)  // GUARD_4
THEN
  RESPONSE #100
    Spell("GUARD_4",CLERIC_CURE_MODERATE_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("ICASARACHT")  // ICASARACHT
  HPPercentLT("ICASARACHT",75)  // ICASARACHT
THEN
  RESPONSE #100
    Spell("ICASARACHT",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("GEM")  // GEM
  HPPercentLT("GEM",75)  // GEM
THEN
  RESPONSE #100
    Spell("GEM",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("KING")  // KING
  HPPercentLT("KING",75)  // KING
THEN
  RESPONSE #100
    Spell("KING",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("YSELF)")  // YSELF)
  HPPercentLT(Myself,75)
THEN
  RESPONSE #100
    Spell(Myself,CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("UNDERPRIEST_1")  // UNDERPRIEST_1
  HPPercentLT("UNDERPRIEST_1",75)  // UNDERPRIEST_1
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_1",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("UNDERPRIEST_2")  // UNDERPRIEST_2
  HPPercentLT("UNDERPRIEST_2",75)  // UNDERPRIEST_2
THEN
  RESPONSE #100
    Spell("UNDERPRIEST_2",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("GUARD_1")  // GUARD_1
  HPPercentLT("GUARD_1",75)  // GUARD_1
THEN
  RESPONSE #100
    Spell("GUARD_1",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("GUARD_2")  // GUARD_2
  HPPercentLT("GUARD_2",75)  // GUARD_2
THEN
  RESPONSE #100
    Spell("GUARD_2",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("GUARD_3")  // GUARD_3
  HPPercentLT("GUARD_3",75)  // GUARD_3
THEN
  RESPONSE #100
    Spell("GUARD_3",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  HaveSpell(CLERIC_CURE_LIGHT_WOUNDS)
  !Dead("GUARD_4")  // GUARD_4
  HPPercentLT("GUARD_4",75)  // GUARD_4
THEN
  RESPONSE #100
    Spell("GUARD_4",CLERIC_CURE_LIGHT_WOUNDS)
    Wait(3)
END

IF
  Or(2)
    See(NearestEnemyOf(Myself))
    See([PC.0.0.FIGHTER_ALL])
  Global("DID_DISPEL","LOCALS",0)
THEN
  RESPONSE #100
    SetGlobal("DID_DISPEL","LOCALS",1)
    ForceSpell(LastSeenBy(Myself),CLERIC_DISPEL_MAGIC)
    Wait(2)
END

IF
  Global("ALLOW_ATTACK","LOCALS",0)
  AttackedBy([GOODCUTOFF],DEFAULT)
THEN
  RESPONSE #100
    SetGlobal("ALLOW_ATTACK","LOCALS",1)
    Continue()
END

IF
  HaveSpell(CLERIC_UNHOLY_BLIGHT)
  See(NearestEnemyOf(Myself))
  !Global("ALLOW_ATTACK","LOCALS",0)
THEN
  RESPONSE #100
    Spell(LastSeenBy(Myself),CLERIC_UNHOLY_BLIGHT)
    Wait(2)
END

IF
  HaveSpell(CLERIC_RIGID_THINKING)
  See(NearestEnemyOf(Myself))
  !StateCheck(LastSeenBy(Myself),STATE_CONFUSED)
  !Global("ALLOW_ATTACK","LOCALS",0)
THEN
  RESPONSE #100
    Spell(LastSeenBy(Myself),CLERIC_RIGID_THINKING)
    Wait(2)
END

IF
  HaveSpell(CLERIC_HOLD_PERSON)
  See(NearestEnemyOf(Myself))
  !StateCheck(LastSeenBy(Myself),STATE_HELPLESS)
  !Global("ALLOW_ATTACK","LOCALS",0)
THEN
  RESPONSE #100
    Spell(LastSeenBy(Myself),CLERIC_HOLD_PERSON)
    Wait(2)
END

IF
  !Global("ALLOW_ATTACK","LOCALS",0)
  See(NearestEnemyOf(Myself))
THEN
  RESPONSE #100
    AttackReevaluate(LastSeenBy(Myself),75)
END

IF
  Global("ICASARACHT_DEAD","GLOBAL",0)
  !See("ICASARACHT")  // ICASARACHT
THEN
  RESPONSE #100
    MoveToObjectUntilSee("ICASARACHT")
END

IF
  !Global("ICASARACHT_DEAD","GLOBAL",0)
  Global("GEM_DEAD","GLOBAL",0)
  !NearLocation(Myself,1010,806,1)
THEN
  RESPONSE #100
    MoveToPoint([1010.806])
    FaceObject("GEM")
END

IF
  Global("GEM_DEAD","GLOBAL",0)
THEN
  RESPONSE #100
    NoAction()
END

