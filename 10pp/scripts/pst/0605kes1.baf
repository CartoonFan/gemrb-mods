IF
  Die()
THEN
  RESPONSE #100
    GlobalSet("Brothel_Alarm","GLOBAL",1)
    GlobalSet("Brothel_Guards","GLOBAL",1)
    Help()
    CreateItem("BHanky",0,0,0)  // ~Bloody Handkerchief~
    DropInventory()
END

IF
  Global("Brothel_Alarm","GLOBAL",1)
THEN
  RESPONSE #100
    Enemy()
    Help()
    RunAwayFromEx(NearestEnemyOf(Myself),50,FALSE)
END

IF
  AttackedBy([ANYONE],DEFAULT)
  Global("Brothel_Alarm","GLOBAL",0)
THEN
  RESPONSE #100
    GlobalSet("Brothel_Alarm","GLOBAL",1)
    GlobalSet("Brothel_Guards","GLOBAL",1)
    Enemy()
    Help()
    RunAwayFromEx(LastAttackerOf(Myself),50,FALSE)
END

IF
  AttackedBy([ANYONE],DEFAULT)
THEN
  RESPONSE #100
    Enemy()
    Help()
    RunAwayFromEx(LastAttackerOf(Myself),50,FALSE)
END

IF
  !Internal(Myself,INTERNAL_3,1)
THEN
  RESPONSE #100
    SetInternal(Myself,INTERNAL_3,1)
    Continue()
END

IF
  !Internal(Myself,INTERNAL_2,0)
THEN
  RESPONSE #100
    SetInternal(Myself,INTERNAL_2,0)
    Continue()
END

IF
  Internal(Myself,INTERNAL_1,2)
THEN
  RESPONSE #100
    MoveToPoint([2254.631])
    MoveToPoint([2196.692])
    Face(2)
    Wait(1)
    OpenDoor("AR605d05")
    MoveToPoint([2104.785])
    Face(10)
    CloseDoor("ar605d05")
    ChangeAIScript("0605kes2",DEFAULT)
END

IF
  See([PC])
THEN
  RESPONSE #100
    FaceObject([PC])
    FloatMessage(Myself,48073)  // ~"Mmm... hello there."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject([PC])
    FloatMessage(Myself,48074)  // ~"I like what I see."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject([PC])
    FloatMessage(Myself,48075)  // ~"Is there something you'd like to share with me?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject([PC])
    FloatMessage(Myself,48076)  // ~"Are you alone?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject([PC])
    FloatMessage(Myself,48077)  // ~"My my, what have we here?"~
    Wait(5)
    Continue()
  RESPONSE #1000
    Continue()
END

IF
  See("BPatron1")  // ~Brothel Patron~
THEN
  RESPONSE #100
    FaceObject("BPatron1")
    FloatMessage(Myself,48073)  // ~"Mmm... hello there."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron1")
    FloatMessage(Myself,48074)  // ~"I like what I see."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron1")
    FloatMessage(Myself,48075)  // ~"Is there something you'd like to share with me?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron1")
    FloatMessage(Myself,48076)  // ~"Are you alone?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron1")
    FloatMessage(Myself,48077)  // ~"My my, what have we here?"~
    Wait(5)
    Continue()
  RESPONSE #500
    SendTrigger("BPatron1",3)
    FaceObject("BPatron1")
    ChangeAIScript("0605kes3",DEFAULT)
    Continue()
  RESPONSE #1000
    Continue()
END

IF
  See("BPatron2")  // ~Brothel Patron~
THEN
  RESPONSE #100
    FaceObject("BPatron2")
    FloatMessage(Myself,48073)  // ~"Mmm... hello there."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron2")
    FloatMessage(Myself,48074)  // ~"I like what I see."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron2")
    FloatMessage(Myself,48075)  // ~"Is there something you'd like to share with me?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron2")
    FloatMessage(Myself,48076)  // ~"Are you alone?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron2")
    FloatMessage(Myself,48077)  // ~"My my, what have we here?"~
    Wait(5)
    Continue()
  RESPONSE #500
    SendTrigger("BPatron2",3)
    FaceObject("BPatron2")
    ChangeAIScript("0605kes3",DEFAULT)
    Continue()
  RESPONSE #1000
    Continue()
END

IF
  See("BPatron3")  // ~Brothel Patron~
THEN
  RESPONSE #100
    FaceObject("BPatron3")
    FloatMessage(Myself,48073)  // ~"Mmm... hello there."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron3")
    FloatMessage(Myself,48074)  // ~"I like what I see."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron3")
    FloatMessage(Myself,48075)  // ~"Is there something you'd like to share with me?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron3")
    FloatMessage(Myself,48076)  // ~"Are you alone?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron3")
    FloatMessage(Myself,48077)  // ~"My my, what have we here?"~
    Wait(5)
    Continue()
  RESPONSE #500
    SendTrigger("BPatron3",3)
    FaceObject("BPatron3")
    ChangeAIScript("0605kes3",DEFAULT)
    Continue()
  RESPONSE #1000
    Continue()
END

IF
  See("BPatron5")  // ~Brothel Patron~
THEN
  RESPONSE #100
    FaceObject("BPatron5")
    FloatMessage(Myself,48073)  // ~"Mmm... hello there."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron5")
    FloatMessage(Myself,48074)  // ~"I like what I see."~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron5")
    FloatMessage(Myself,48075)  // ~"Is there something you'd like to share with me?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron5")
    FloatMessage(Myself,48076)  // ~"Are you alone?"~
    Wait(5)
    Continue()
  RESPONSE #100
    FaceObject("BPatron5")
    FloatMessage(Myself,48077)  // ~"My my, what have we here?"~
    Wait(5)
    Continue()
  RESPONSE #500
    SendTrigger("BPatron5",3)
    FaceObject("BPatron5")
    ChangeAIScript("0605kes3",DEFAULT)
    Continue()
  RESPONSE #1000
    Continue()
END

IF
  Internal(Myself,INTERNAL_0,0)
  !TimerActive(1)
THEN
  RESPONSE #100
    MoveToPoint([2177.472])
    Face(14)
    StartRandomTimer(1,5,10)
    IncInternal(Myself,INTERNAL_0,1)
END

IF
  Internal(Myself,INTERNAL_0,1)
  !TimerActive(1)
THEN
  RESPONSE #100
    MoveToPoint([2255.469])
    Face(0)
    StartRandomTimer(1,5,10)
    IncInternal(Myself,INTERNAL_0,1)
END

IF
  Internal(Myself,INTERNAL_0,2)
  !TimerActive(1)
THEN
  RESPONSE #100
    MoveToPoint([2392.602])
    Face(6)
    StartRandomTimer(1,5,10)
    IncInternal(Myself,INTERNAL_0,1)
END

IF
  Internal(Myself,INTERNAL_0,3)
  !TimerActive(1)
THEN
  RESPONSE #100
    MoveToPoint([2309.602])
    Face(10)
    StartRandomTimer(1,5,10)
    IncInternal(Myself,INTERNAL_0,1)
END

IF
  InternalGT(Myself,INTERNAL_0,3)
  !TimerActive(1)
THEN
  RESPONSE #100
    MoveToPoint([2254.549])
    Face(2)
    StartRandomTimer(1,5,10)
    SetInternal(Myself,INTERNAL_0,0)
    IncInternal(Myself,INTERNAL_1,1)
END

